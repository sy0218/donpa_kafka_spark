# 던파 카프카, 스파크 스트리밍 활용 실시간 거래 대시보드

## 던파 아이템(데이터 플로우)
### 1. 카프카 : E(실시간 수집) T(필요한 필드만 추출, 키값으로 변형) L(토픽)
### 2. 스파크 스트리밍 : E(토픽) T(json스키마 정의, 데이터프레임 변환) L(hdfs)
### 3. 스파크 : E(hdfs) T(현재 시간에서 1시간 뺸 시간 보다 큰 데이터만 데이터 프레임으로 생성) L(mariadb)

## 던파 아바타(데이터 플로우)
### 1. 스파크 : E(벌크형 수집) T(원하는 필드 추출, 데이터 프레임 변경, 원하는 순서로 컬럼 정렬, 중복 레코드 제거, soldDate컬럼 기준 정렬, 이전 csv불러와 합치기, 중복레코드 제거) L(hdfs)
### 2. 스파크 : E(hdfs) T(없음) L(mariadb)

## airflow(워크 플로우 정의)
### 던파 아이템 : 아이템 3번데이터 플로우 1시간 마다 실행하여 1시간 마다 거래 데이터로 데이터 마트 최신화 (1시간 마다 거래 데이터 저장)
### 던파 아바타 : 1시간 마다 아바타1,2 데이터 플로우 실행하여 아바타 거래데이터를 최신화 시킨다 (모든 거래 데이터 저장) 
